/* ===== CSS VARIABLES - PREMIUM PURPLE THEME ===== */
:root {
    --primary-purple: #7B68EE;
    --purple-light: #9370DB;
    --purple-dark: #6A5ACD;
    --purple-gold: #D4AF37;
    --background-dark: #0A0A1A;
    --card-dark: #161635;
    --card-border: #2D2B55;
    --text-primary: #F0F0F0;
    --text-secondary: #B8B8D0;
    --success: #00C9A7;
    --warning: #FFC75F;
    --error: #FF6B6B;
    --border: #3D3B6B;
    --expander_focus: #2a2a4a;
}

/* ===== UPPER HEADER ===== */
div[data-testid="stToolbar"] {
    background: linear-gradient(135deg, var(--background-dark) 0%, #0D0D2B 100%);
}

/* ===== BASIC STYLES ===== */
.stApp {
    background: linear-gradient(135deg, var(--background-dark) 0%, #0D0D2B 100%);
    color: var(--text-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    padding: 2rem 0;
}

/* ===== HEADINGS ===== */
h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary) !important;
    font-weight: 600;
    margin: 0 0 1rem 0 !important;
    text-align: center;
}

h1 {
    font-size: 2.8rem !important;
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-gold) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem !important;
}

/* ===== TEXT ===== */
p {
    color: var(--text-primary) !important;
    text-align: center;
    font-size: 1.1rem;
    line-height: 1.6;
}

li {
    color: var(--text-primary) !important;
}

/* ===== BUTTON ===== */
section[data-testid="stMain"] .stButton > button {
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-dark) 100%) !important;
    color: white !important;
    border: none !important;
    border-radius: 10px !important;
    padding: 0.8rem 2rem !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
    width: 100%;
    margin: 1rem auto 0 auto !important;
    display: block !important;
    font-size: 1rem !important;
}

section[data-testid="stMain"] .stButton > button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(123, 104, 238, 0.4) !important;
    background: linear-gradient(135deg, var(--purple-dark) 0%, var(--primary-purple) 100%) !important;
}

/* ===== BUTTON Submit ===== */
div[data-testid="stFormSubmitButton"] > button {
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-dark) 100%) !important;
    color: white !important;
    border: none !important;
    border-radius: 10px !important;
    padding: 0.8rem 2rem !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
    width: 100% !important;
    max-width: 200px !important;
    margin: 1rem auto 0 auto !important;
    display: block !important;
    font-size: 1rem !important;
}

div[data-testid="stFormSubmitButton"] > button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(123, 104, 238, 0.4) !important;
    background: linear-gradient(135deg, var(--purple-dark) 0%, var(--primary-purple) 100%) !important;
}

/* ===== FORM CONTAINERS ===== */
.stForm {
    background: var(--card-dark) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 16px !important;
    padding-left: 2.5rem !important;
    padding-right: 2.5rem !important;
    padding-bottom: 2rem !important;
    margin: 2rem auto !important;
    max-width: 450px !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3) !important;
}

/* ===== INPUT FIELDS ===== */
.stTextInput input:focus {
    background-color: white !important;
    border-color: var(--primary-purple) !important;
    box-shadow: 0 0 0 2px rgba(123, 104, 238, 0.2) !important;
}

/* ===== EXPANDER - FIXED WIDTH ===== */
.stExpander {
    background: var(--card-dark) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 16px !important;
    padding: 1.5rem !important;
    margin: 1.5rem auto !important;
    max-width: 450px !important;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25) !important;
}

.stExpander > div {
    width: 100% !important;
}

/* ===== ALERTS ===== */
.stAlert {
    border-radius: 12px !important;
    border: none !important;
    background: linear-gradient(135deg, rgba(123, 104, 238, 0.1) 0%, rgba(106, 90, 205, 0.1) 100%) !important;
    border-left: 4px solid var(--primary-purple) !important;
    max-width: 450px !important;
    margin: 0 auto !important;
}

/* ===== CENTERING FIXES ===== */
div[data-testid="stFullScreenFrame"] {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
}

div[data-testid="stImageContainer"] {
    width: 20rem;
}

/* ===== HIDE STREAMLIT ELEMENTS =====
#MainMenu, footer, .stDeployButton {
    visibility: hidden;
}
*/

details[open] > summary {
    background-color: var(--expander_focus);
}

/* ===== SIDEBAR STYLES ===== */
/* Основной сайдбар */
section[data-testid="stSidebar"] > div {
    background: linear-gradient(135deg, var(--card-dark) 0%, #1A1A3A 100%) !important;
    border-right: 1px solid var(--card-border) !important;
    box-shadow: 5px 0 25px rgba(0, 0, 0, 0.3) !important;
}

/* Заголовок сайдбара */
section[data-testid="stSidebar"] h2 {
    color: var(--primary-purple) !important;
    text-align: center !important;
    margin-bottom: 2rem !important;
    font-size: 1.5rem !important;
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-gold) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}


/* Кнопки в сайдбаре */
section[data-testid="stSidebar"] .stButton > button {
    background: linear-gradient(135deg, var(--card-dark) 0%, #2D2D4D 100%) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border) !important;
    border-radius: 10px !important;
    padding: 0.8rem 1.2rem !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
    width: 100% !important;
    margin: 0.5rem 0 !important;
    text-align: left !important;
    font-size: 0.95rem !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2) !important;
}

section[data-testid="stSidebar"] .stButton > button:hover {
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-dark) 100%) !important;
    color: white !important;
    border-color: var(--primary-purple) !important;
    transform: translateX(5px);
    box-shadow: 0 4px 20px rgba(123, 104, 238, 0.3) !important;
}

/* Иконки в кнопках сайдбара */
section[data-testid="stSidebar"] .stButton > button::before {
    margin-right: 0.5rem;
    font-weight: bold;
    color: var(--purple-light);
    transition: all 0.3s ease;
}

section[data-testid="stSidebar"] .stButton > button:hover::before {
    color: white;
    transform: translateX(3px);
}

/* Кнопка выхода в сайдбаре */
section[data-testid="stSidebar"] .stButton > button[style*="background-color: #FF4B4B"] {
    background: linear-gradient(135deg, #FF6B6B 0%, #EF4444 100%) !important;
    color: white !important;
    border: none !important;
    margin-top: 2rem !important;
    text-align: center !important;
}

section[data-testid="stSidebar"] .stButton > button[style*="background-color: #FF4B4B"]:hover {
    background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%) !important;
    transform: translateX(5px);
}

/* Информационные блоки в сайдбаре */
section[data-testid="stSidebar"] .stInfo {
    background: linear-gradient(135deg, rgba(123, 104, 238, 0.1) 0%, rgba(106, 90, 205, 0.1) 100%) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 10px !important;
    padding: 1rem !important;
    margin: 1rem 0 !important;
}

/* Заголовки в сайдбаре */
section[data-testid="stSidebar"] h3 {
    color: var(--text-primary) !important;
    font-size: 1.1rem !important;
    margin: 1.5rem 0 0.5rem 0 !important;
    border-bottom: 1px solid var(--border);
    padding-bottom: 0.5rem;
}

/* Статус данных в сайдбаре */
section[data-testid="stSidebar"] .stMarkdown {
    color: var(--text-secondary) !important;
    font-size: 0.9rem !important;
    margin: 0.2rem 0 !important;
}


.st-emotion-cache-bon3u1 {
    min-width: 405px !important;
    max-width: 500px !important;
}

/* Добавьте в assets/style.css */
[data-testid="stSidebarCloseButton"] {
    color: var(--text-primary)  !important;
}

[data-testid="stSidebarCloseButton"] svg {
    fill: var(--text-primary)  !important;
    color: var(--text-primary)  !important;
}

[data-testid="stIconMaterial"] {
    color: var(--text-primary)  !important;
}

.stIconMaterial {
    color: var(--text-secondary) !important;
}

.st-emotion-cache-yinll1 {
        display: none !important;
}

/* ===== FILE UPLOADER STYLES ===== */
/* Стили для загрузчика файлов */
div[data-testid="stFileUploader"] {
    background: linear-gradient(135deg, var(--card-dark) 0%, #1E1E3F 100%) !important;
    border: 2px dashed var(--border) !important;
    border-radius: 16px !important;
    padding: 2rem !important;
    margin: 1rem 0 !important;
    transition: all 0.3s ease !important;
}

div[data-testid="stFileUploader"]:hover {
    border-color: var(--primary-purple) !important;
    background: linear-gradient(135deg, var(--card-dark) 0%, #25254D 100%) !important;
    box-shadow: 0 8px 30px rgba(123, 104, 238, 0.2) !important;
}

/* Текст в загрузчике */
div[data-testid="stFileUploader"] > div > span {
    color: var(--text-primary) !important;
    font-weight: 500 !important;
}

/* Кнопка загрузки */
div[data-testid="stFileUploader"] button {
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-dark) 100%) !important;
    color: white !important;
    border: none !important;
    border-radius: 10px !important;
    padding: 0.7rem 1.5rem !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
}

div[data-testid="stFileUploader"] button:hover {
    background: linear-gradient(135deg, var(--purple-dark) 0%, var(--primary-purple) 100%) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba(123, 104, 238, 0.4) !important;
}

/* Информация о загруженном файле */
.file-info {
    background: linear-gradient(135deg, rgba(123, 104, 238, 0.15) 0%, rgba(106, 90, 205, 0.15) 100%) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 12px !important;
    padding: 1.5rem !important;
    margin: 1rem 0 !important;
    border-left: 4px solid var(--primary-purple) !important;
}

.file-name {
    color: var(--text-primary) !important;
    font-weight: 600 !important;
    font-size: 1.1rem !important;
    margin-bottom: 0.5rem !important;
}

.file-size {
    color: var(--text-secondary) !important;
    font-size: 0.9rem !important;
    background: rgba(255, 255, 255, 0.1) !important;
    padding: 0.3rem 0.8rem !important;
    border-radius: 8px !important;
    display: inline-block !important;
    border: 1px solid var(--border) !important;
}

.file-success {
    color: var(--success) !important;
    font-weight: 500 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    margin-top: 0.5rem !important;
}

/* Иконка файла */
.file-icon {
    font-size: 1.5rem !important;
    margin-right: 0.5rem !important;
}

/* Стили для предпросмотра данных */
.data-preview {
    background: var(--card-dark) !important;
    border: 1px solid var(--card-border) !important;
    border-radius: 12px !important;
    padding: 1.5rem !important;
    margin: 1rem 0 !important;
}

.preview-header {
    color: var(--text-primary) !important;
    font-weight: 600 !important;
    margin-bottom: 1rem !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
}

/* Специфично для текста размера файла */
div[data-testid="stFileUploader"] small,
 div[data-testid="stFileUploaderFileName"]{
    color: var(--text-secondary) !important;
}

div[class="st-emotion-cache-14ecig9 e1q5ojhd0"] {
    background: linear-gradient(135deg, var(--background-dark) 0%, #0D0D2B 100%);
}

.stCheckbox [data-baseweb="checkbox"] {
    background: linear-gradient(135deg, var(--card-dark) 0%, #25254D 100%) !important;
    border: 1px solid var(--border) !important;
    border-radius: 10px !important;
    padding: 1rem 1.5rem !important;
    margin: 0.5rem 0 !important;
    transition: all 0.3s ease !important;

}

.stCheckbox [data-baseweb="checkbox"]:hover {
    border-color: var(--primary-purple) !important;
    background: linear-gradient(135deg, var(--card-dark) 0%, #2D2D5D 100%) !important;
    box-shadow: 0 4px 20px rgba(123, 104, 238, 0.2) !important;
}

.stCheckbox [data-baseweb="checkbox"]:has(input:checked) {
    border-color: var(--primary-purple) !important;
    background: linear-gradient(135deg, rgba(123, 104, 238, 0.2) 0%, rgba(106, 90, 205, 0.2) 100%) !important;
}

.stCheckbox label {
    color: var(--text-primary) !important;
    font-weight: 500 !important;
    font-size: 1rem !important;
}

/* Или более специфично для чекбокса */
.stElementContainer:has(div[data-testid="stCheckbox"]) {
    width: 100% !important;
    display: flex !important;
    justify-content: center !important;
}

.st-emotion-cache-3hw9cz{
    justify-content: left !important;
}

.st-emotion-cache-1q82h82{
    color: var(--text-primary) !important;
}

text{
    color: var(--text-primary) !important;
}

.st-emotion-cache-15jn9ue{
    display: flex !important;
}

.st-emotion-cache-p38tq{
    text-align: center;
}

.st-emotion-cache-7pf6at {
    display: flex;
    justify-content: center;
    align-items: center;
 }

.st-emotion-cache-qiev7j{
    color: rgb(49, 51, 63);
}

.st-emotion-cache-7czcpc{
    height: 500px !important;
    width: 500px !important;
}

.st-d7{
    background-color: #9370DB;
}

.st-au:has(div[role="slider"]) {
    background: #9370DB;
}

div[data-testid="stSliderThumbValue"]{
    color: rgb(240, 240, 240);
}

div [data-testid="stDownloadButton"] button {
    background: linear-gradient(135deg, var(--primary-purple) 0%, var(--purple-dark) 100%) !important;
    color: white !important;
    border: none !important;
    border-radius: 10px !important;
    padding: 0.8rem 2rem !important;
    font-weight: 500 !important;
    transition: all 0.3s ease !important;
    width: 100%;
    margin: 1rem auto 0 auto !important;
    display: block !important;
    font-size: 1rem !important;
}

div [data-testid="stDownloadButton"] button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(123, 104, 238, 0.4) !important;
    background: linear-gradient(135deg, var(--purple-dark) 0%, var(--primary-purple) 100%) !important;
}
